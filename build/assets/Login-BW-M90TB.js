import{u as f,a as j,r as t,j as e,L as y,B as v,b}from"./index-B56gB6y7.js";import{I as d}from"./Input-C6ykoCPd.js";const a={"login-page":"_login-page_axpe2_1","login-container":"_login-container_axpe2_19","login-header":"_login-header_axpe2_29","login-title":"_login-title_axpe2_49","login-subtitle":"_login-subtitle_axpe2_63","login-form":"_login-form_axpe2_73","login-error":"_login-error_axpe2_87","login-footer":"_login-footer_axpe2_107","signup-link":"_signup-link_axpe2_121"},S=()=>{const u=f(),{login:p}=j(),[s,m]=t.useState({email:"",password:""}),[g,i]=t.useState(""),[r,l]=t.useState(!1),c=o=>{const{name:n,value:h}=o.target;m(_=>({..._,[n]:h})),i("")},x=async o=>{if(o.preventDefault(),i(""),l(!0),!s.email||!s.password){i("Please fill in all fields"),l(!1);return}try{const n=await p(s.email,s.password);n.success?u("/"):i(n.error||"Login failed. Please try again.")}catch(n){i("An unexpected error occurred. Please try again."),console.error("Login error:",n)}finally{l(!1)}};return e.jsx("div",{className:a["login-page"],children:e.jsxs("div",{className:a["login-container"],children:[e.jsxs("div",{className:a["login-header"],children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"var(--spacing-md)"},children:e.jsx(y,{size:"large",showText:!1})}),e.jsx("h1",{className:a["login-title"],children:"ConstructaX"}),e.jsx("p",{className:a["login-subtitle"],children:"Sign in to manage your construction projects"})]}),e.jsxs("form",{onSubmit:x,className:a["login-form"],children:[g&&e.jsx("div",{className:a["login-error"],children:g}),e.jsx(d,{label:"Email",type:"email",name:"email",value:s.email,onChange:c,placeholder:"Enter your email",required:!0,disabled:r}),e.jsx(d,{label:"Password",type:"password",name:"password",value:s.password,onChange:c,placeholder:"Enter your password",required:!0,disabled:r}),e.jsx(v,{type:"submit",variant:"primary",size:"large",fullWidth:!0,loading:r,children:r?"Signing in...":"Sign In"}),e.jsxs("div",{className:a["login-footer"],children:["Don't have an account?",e.jsx(b,{to:"/signup",className:a["signup-link"],children:"Sign Up"})]})]})]})})};export{S as default};
